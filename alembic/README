# FastAPI Microservice Template üöÄ

–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ RideTrip.
–í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Docker, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –ë–î (SQLAlchemy + AsyncPG), –º–∏–≥—Ä–∞—Ü–∏–∏ (Alembic) –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Structlog).

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ —ç—Ç–æ–≥–æ —à–∞–±–ª–æ–Ω–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1.  **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:**
    * –í `app/core/config.py` –∏–∑–º–µ–Ω–∏—Ç–µ `APP_NAME` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
    * –í `pyproject.toml` (–∏–ª–∏ `requirements.txt`) –æ–±–Ω–æ–≤–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.
2.  **–û—á–∏—Å—Ç–∫–∞:**
    * –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É `.git` –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –Ω–æ–≤—É—é (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∫–Ω–æ–ø–∫—É "Use this template").
3.  **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    * –î–æ–±–∞–≤—å—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fastapi-users` –¥–ª—è Auth –∏–ª–∏ `stripe` –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π).

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ö—É–¥–∞ –ø–∏—Å–∞—Ç—å –∫–æ–¥?)

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–æ–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –ö–æ–¥ —Ä–∞–∑–Ω–æ—Å–∏—Ç—Å—è –ø–æ –ø–∞–ø–∫–∞–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

| –ü–∞–ø–∫–∞ | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞? | –ü—Ä–∏–º–µ—Ä |
| :--- | :--- | :--- |
| **`app/routes`** | **–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (API).** –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–∑–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤. –ú–∏–Ω–∏–º—É–º –ª–æ–≥–∏–∫–∏. | `POST /users`, `GET /tours/{id}` |
| **`app/schemas`** | **Pydantic –º–æ–¥–µ–ª–∏.** –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö "–Ω–∞ –≤—Ö–æ–¥" –∏ "–Ω–∞ –≤—ã—Ö–æ–¥". | `UserCreate`, `TourResponse` |
| **`app/services`** | **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞.** –û—Å–Ω–æ–≤–Ω–æ–π "–º–æ–∑–≥" —Å–µ—Ä–≤–∏—Å–∞. –ó–¥–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Ä–µ—à–µ–Ω–∏—è, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è. | `calculate_price()`, `register_user()` |
| **`app/crud`** | **–†–∞–±–æ—Ç–∞ —Å –ë–î.** –¢–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ (Create, Read, Update, Delete). –ù–∏–∫–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. | `get_user_by_email()`, `create_order()` |
| **`app/db`** | **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö.** SQLAlchemy –º–æ–¥–µ–ª–∏ (—Ç–∞–±–ª–∏—Ü—ã –ë–î). | `class User(Base): ...` |
| **`app/middleware`** | **Middleware.** –ü–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–≥–æ–ª–æ–≤–∫–∏, CORS). | `ProcessTimeMiddleware` |
| **`app/utils`** | **–£—Ç–∏–ª–∏—Ç—ã.** –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. | –õ–æ–≥–≥–µ—Ä, —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –¥–∞—Ç –∏ —Ç.–¥. |

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ß–µ—Ä–µ–∑ Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–°–µ—Ä–≤–∏—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∏–∑–≤–Ω–µ (docker-compose –∏–ª–∏ k8s).

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker compose up --build